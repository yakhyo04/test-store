{{ 'collection-slider.min.css' | asset_url | stylesheet_tag }}
{{ "https://unpkg.com/swiper/swiper-bundle.min.css" | stylesheet_tag }}
{{ "https://unpkg.com/swiper/swiper-bundle.min.js" | script_tag }}

<div class="collection__slider color-{{ section.settings.color_scheme }}">
    <div class="page-width">
        <h1 class="collection__slider--title">{{ section.settings.title }}</h1>
        <div class="swiper collection__slider--swiper">
        <div class="collection__slider--wrapper swiper-wrapper">
            {% for product in section.settings.collection.products %}
                {% render 'featured-product-block', product: product %}
            {% endfor %}
        </div>
        <div class="swiper-pagination" style="position: relative;"></div>   
        </div>
    </div>
</div>

<script>
  var swiper = new Swiper(".collection__slider--swiper", {
    slidesPerView: 4,
    pagination: {
        el: ".swiper-pagination",
        clickable: true,
    },
    breakpoints: {
        250: {
        slidesPerView: 2,
        spaceBetween: 20,
        },
        450: {
        slidesPerView: 3,
        spaceBetween: 10,
        },
        768: {
        slidesPerView: 4,
        spaceBetween: 20,
        }
        
    }
  });
</script>

{% schema %}
{
    "name": "Collection Slider",
    "settings": [
        {
            "type": "color_scheme",
            "id": "color_scheme",
            "label": "Color Scheme",
            "default": "scheme-4"
        },
        {
            "type": "text",
            "id": "title",
            "default": "Title",
            "label": "Title"
        },
        {
            "type": "collection",
            "id": "collection",
            "label": "Collection"
        }
    ],
    "presets": [
        {
            "name": "Collection_slider"
        }
    ]
}
{% endschema %}